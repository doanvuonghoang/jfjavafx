<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Tue May 24 09:37:19 CEST 2011 -->
<TITLE>
PluginManager (JSPF API)
</TITLE>

<META NAME="date" CONTENT="2011-05-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PluginManager (JSPF API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PluginManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../net/xeoh/plugins/base/PluginInformation.Information.html" title="enum in net.xeoh.plugins.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?net/xeoh/plugins/base/PluginManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PluginManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.xeoh.plugins.base</FONT>
<BR>
Interface PluginManager</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../../net/xeoh/plugins/base/Plugin.html" title="interface in net.xeoh.plugins.base">Plugin</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>PluginManager</B><DT>extends <A HREF="../../../../net/xeoh/plugins/base/Plugin.html" title="interface in net.xeoh.plugins.base">Plugin</A></DL>
</PRE>

<P>
This is your entry point to and the heart of JSPF. The plugin manager keeps track of all 
 registed plugins and gives you methods to add and query them. You cannot instantiate the
 PluginManager directly, instead you<br/><br/>
 
 <center>create this class the first time by a call to <CODE>PluginManagerFactory</CODE><code>.createPluginManager()</code></center>
 
 <br/><br/>
 Afterwards you probably want to add some of your own plugins. During the lifetime of your 
 application there should only be one PluginManager. The PluginManager does not have to be 
 passed to the inside of your plugins, instead, they can request it by the &#064;<A HREF="../../../../net/xeoh/plugins/base/annotations/injections/InjectPlugin.html" title="annotation in net.xeoh.plugins.base.annotations.injections"><CODE>InjectPlugin</CODE></A>
 annotation (i.e, create a field '<code>public PluginManager manager</code>' and add the 
 annotation).<br/><br/>
 
 There are also a number of default plugins you can retrieve right away (without calling 
 <code>addPluginsFrom()</code> explicitly.). These are:<br/><br/>
  
  <ul>
  <li><A HREF="../../../../net/xeoh/plugins/base/PluginConfiguration.html" title="interface in net.xeoh.plugins.base"><CODE>PluginConfiguration</CODE></A> - enables you to get and set config options</li>
  <li><A HREF="../../../../net/xeoh/plugins/base/PluginInformation.html" title="interface in net.xeoh.plugins.base"><CODE>PluginInformation</CODE></A> - provides meta information about plugins</li>
  <li><A HREF="../../../../net/xeoh/plugins/informationbroker/InformationBroker.html" title="interface in net.xeoh.plugins.informationbroker"><CODE>InformationBroker</CODE></A> - supports information exchange between plugins while keeping them decoupled</li>
  </ul><br/>
  
 In addition (and after loading the specific plugin) you can also retrieve a RemoteAPI.   
 <br/><br/>
    
 The following configuration sub-keys are usually known for this class (see <A HREF="../../../../net/xeoh/plugins/base/PluginConfiguration.html" title="interface in net.xeoh.plugins.base"><CODE>PluginConfiguration</CODE></A>, keys must be set 
 <em>before</em> createPluginManager() is being called, i.e., set in the <CODE>JSPFProperties</CODE> object!):<br/><br/>
 
  <ul>
  <li><b>cache.enabled</b> - Specifies if the known plugins should be cached. Specify either {true, false}.</li>
  <li><b>cache.mode</b> - If we should use strong caching (slow but more accurate) or weak (much faster). Specify either {stong, weak}. </li>
  <li><b>cache.file</b> - Cache file to use. Specify any relative or absolute file path, file will be created / overwritten.</li>
  <li><b>classpath.filter.default.enabled</b> - If Java default classpaths (e.g., jre/lib/*) should be filtered. Specify either {true, false}. Might not work on all platforms as expected.</li>
  <li><b>classpath.filter.default.pattern</b> - Specify what to filter in addition to default classpaths. Specify a list of ';' separated tokens, e.g., "jdk/lib;jre/lib". Will be matched against URL representations, so all \\ will be converted to / (and ' ' might become %20, ...).</li>
  <li><b>logging.level</b> - Either {OFF, FINEST, FINER, FINE, INFO, WARNING, ALL}. Specifies what to log on the console. </li>
  </ul><br/>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Ralf Biedert</DD>
<DT><B>See Also:</B><DD><CODE>PluginManagerUtil</CODE></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../net/xeoh/plugins/base/PluginManager.html#addPluginsFrom(java.net.URI, net.xeoh.plugins.base.options.AddPluginsFromOption...)">addPluginsFrom</A></B>(java.net.URI&nbsp;url,
               <A HREF="../../../../net/xeoh/plugins/base/options/AddPluginsFromOption.html" title="interface in net.xeoh.plugins.base.options">AddPluginsFromOption</A>...&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests the plugin manager to add plugins from a given path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;P extends <A HREF="../../../../net/xeoh/plugins/base/Plugin.html" title="interface in net.xeoh.plugins.base">Plugin</A>&gt; 
<BR>
P</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../net/xeoh/plugins/base/PluginManager.html#getPlugin(java.lang.Class, net.xeoh.plugins.base.options.GetPluginOption...)">getPlugin</A></B>(java.lang.Class&lt;P&gt;&nbsp;plugin,
          <A HREF="../../../../net/xeoh/plugins/base/options/GetPluginOption.html" title="interface in net.xeoh.plugins.base.options">GetPluginOption</A>...&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the next best plugin for the requested interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../net/xeoh/plugins/base/PluginManager.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells the plugin manager to shut down.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addPluginsFrom(java.net.URI, net.xeoh.plugins.base.options.AddPluginsFromOption...)"><!-- --></A><H3>
addPluginsFrom</H3>
<PRE>
void <B>addPluginsFrom</B>(java.net.URI&nbsp;url,
                    <A HREF="../../../../net/xeoh/plugins/base/options/AddPluginsFromOption.html" title="interface in net.xeoh.plugins.base.options">AddPluginsFromOption</A>...&nbsp;options)</PRE>
<DL>
<DD>Requests the plugin manager to add plugins from a given path. The path can be
 either a folder-like item where existing .zip and .jar files are trying to be
 added, as well as existing class files. The path can also be a singular .zip or
 .jar which is added as well.<br><br>

 The manager will search for classes having the &#064;<A HREF="../../../../net/xeoh/plugins/base/annotations/PluginImplementation.html" title="annotation in net.xeoh.plugins.base.annotations"><CODE>PluginImplementation</CODE></A> 
 annotation and evaluate this annotation. Thereafter the plugin will be instantiated.<br><br>
 
 Currently supported are classpath-folders (containing no .JAR files), plugin folders 
 (containing .JAR files or multiplugins), single plugins and HTTP locations. Example
 calls look like this:<br/><br/>
 
 <ul>
 <li><code>addPluginsFrom(new URI("classpath://*"))</code> (add all plugins within the current classpath).</li>
 <li><code>addPluginsFrom(new File("plugins/").toURI())</code> (all plugins from the given folder, scanning for JARs and <a href="http://code.google.com/p/jspf/wiki/FAQ">multi-plugins</a>).</li>
 <li><code>addPluginsFrom(new File("plugin.jar").toURI())</code> (the given plugin directly, no scanning is being done).</li>
 <li><code>addPluginsFrom(new URI("http://sample.com/plugin.jar"))</code> (downloads and adds the given plugin, use with caution).</li>
 <li><code>addPluginsFrom(new ClassURI(ServiceImpl.class).toURI())</code> (adds the specific plugin implementation already present in the classpath; very uncomfortable, very fast).</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - The URL to add from. If this is "classpath://*"; the plugin manager will 
 load all plugins within it's own classpath.<DD><CODE>options</CODE> - A set of options supported. Please see the individual options for more
 details.<DT><B>See Also:</B><DD><CODE>ClassURI</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPlugin(java.lang.Class, net.xeoh.plugins.base.options.GetPluginOption...)"><!-- --></A><H3>
getPlugin</H3>
<PRE>
&lt;P extends <A HREF="../../../../net/xeoh/plugins/base/Plugin.html" title="interface in net.xeoh.plugins.base">Plugin</A>&gt; P <B>getPlugin</B>(java.lang.Class&lt;P&gt;&nbsp;plugin,
                               <A HREF="../../../../net/xeoh/plugins/base/options/GetPluginOption.html" title="interface in net.xeoh.plugins.base.options">GetPluginOption</A>...&nbsp;options)</PRE>
<DL>
<DD>Returns the next best plugin for the requested interface. The way the plugin is being 
 selected is undefined, you should assume that a random plugin implementing the requested 
 interface is chosen. <br><br>
 
 This method is more powerful than it looks like on first sight, especially in conjunction
 with the right <A HREF="../../../../net/xeoh/plugins/base/options/GetPluginOption.html" title="interface in net.xeoh.plugins.base.options"><CODE>GetPluginOption</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Type Parameters:</B><DD><CODE>P</CODE> - Type of the plugin / return value.<DT><B>Parameters:</B><DD><CODE>plugin</CODE> - The interface to request. The given class <b>must</b> derive from Plugin. You <b>MUST NOT</b> pass 
 implementation classes. Only interface classes are accepted (i.e. <code>getPlugin(Service.class)</code>
 is fine, while <code>getPlugin(ServiceImpl.class)</code> isn't.<DD><CODE>options</CODE> - A set of options for the request.
<DT><B>Returns:</B><DD>A randomly chosen Object that implements <code>plugin</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
void <B>shutdown</B>()</PRE>
<DL>
<DD>Tells the plugin manager to shut down. This may be useful in cases where you want all 
 created plugins to be destroyed and shutdown hooks called. Normally this happens during 
 application termination automatically, but sometimes you create a 2nd instance in the same 
 machine and want the first one to close properly.   
 
 All invocations after the first one have no effect.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PluginManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../net/xeoh/plugins/base/PluginInformation.Information.html" title="enum in net.xeoh.plugins.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?net/xeoh/plugins/base/PluginManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PluginManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
